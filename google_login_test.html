<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>

<!-- 樣式1 -->
<script src="https://accounts.google.com/gsi/client" async defer></script>
<div id="g_id_onload"
     data-client_id="906043924289-83rv82lavu101mq65ior4n5vcs9hcad0.apps.googleusercontent.com"
     data-context="signin"
     data-ux_mode="popup"
     data-login_uri="http://localhost:8087/OFFON1/index_map.html"
     data-auto_prompt="false">
</div>

<div class="g_id_signin"
     data-type="standard"
     data-shape="rectangular"
     data-theme="outline"
     data-text="signin_with"
     data-size="large"
     data-logo_alignment="left">
</div>

目前狀態：

<span id="GOOGLE_STATUS_1"></span>

<script>
	// 登入之後
	function onSignIn1(response) {
		var credential = response.credential,
			profile = JSON.parse(decodeURIComponent(escape(window.atob(credential.split(".")[1].replace(/-/g, "+").replace(/_/g, "/"))))), // 對 JWT 進行解碼
			target = document.getElementById("GOOGLE_STATUS_1"),
			html = "http://localhost:8087/OFFON1/index_map.html";

		html += "ID: " + profile.sub + "<br/>";
		html += "會員暱稱： " + profile.name + "<br/>";
		html += "會員頭像：" + profile.picture + "<br/>";
		html += "會員 email：" + profile.email + "<br/>";
		target.innerHTML = html;
	}
</script>


<!-- 樣式2 -->
<!-- <script src="https://accounts.google.com/gsi/client" async defer></script>
<div id="g_id_onload"
     data-client_id="906043924289-83rv82lavu101mq65ior4n5vcs9hcad0.apps.googleusercontent.com"
     data-context="signin"
     data-ux_mode="popup"
     data-login_uri="http://localhost:8087/OFFON1/index_map.html"
     data-auto_prompt="false">
</div>

<div class="g_id_signin" 
	data-type="standard" 
	data-shape="pill" 
	data-theme="filled_blue" 
	data-text="signin" 
	data-size="large" 
	data-logo_alignment="left">
</div>

目前狀態：

<span id="GOOGLE_STATUS_2"></span>

<script>
	// 登入之後
	function onSignIn2(response) {
		var credential = response.credential,
			profile = JSON.parse(decodeURIComponent(escape(window.atob(credential.split(".")[1].replace(/-/g, "+").replace(/_/g, "/"))))),
			target = document.getElementById("GOOGLE_STATUS_2"),
			html = "http://localhost:8087/OFFON1/index_map.html";

		html += "ID: " + profile.sub + "<br/>";
		html += "會員暱稱： " + profile.name + "<br/>";
		html += "會員頭像：" + profile.picture + "<br/>";
		html += "會員 email：" + profile.email + "<br/>";
		target.innerHTML = html;
	}
</script> -->


<!-- 樣式3 -->
<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />

<button id="GOOGLE_login" class="btn btn-large btn-primary">GOOGLE 登入</button> <button id="GOOGLE_logout" class="btn btn-large btn-warning">GOOGLE 登出</button>
目前狀態：

<span id="GOOGLE_STATUS_3">
</span>

<script src="https://accounts.google.com/gsi/client" async defer></script>

<script>
	function startSignIn() {
		google.accounts.id.initialize({
			client_id: "906043924289-83rv82lavu101mq65ior4n5vcs9hcad0.apps.googleusercontent.com",
			callback: onSignIn3,
  			prompt_parent_id: "GOOGLE_login", // 設定登入視窗的位置, 若不設定此參數則預設出現在網頁右上角
		});

		google.accounts.id.prompt((notification) => {
			// 如果無法彈出登入視窗 紀錄錯誤訊息
			if (notification.isNotDisplayed() || notification.isSkippedMoment()) {
				console.log(notification);
			}
		});
	}

	// 處理登入取得的資訊
	function onSignIn3(response) {
		var credential = response.credential,
			profile = JSON.parse(decodeURIComponent(escape(window.atob(credential.split(".")[1].replace(/-/g, "+").replace(/_/g, "/"))))),
			$target = $("#GOOGLE_STATUS_3"),
			html = "http://localhost:8087/OFFON1/index_map.html";

		html += "ID: " + profile.sub + "<br/>";
		html += "會員暱稱： " + profile.name + "<br/>";
		html += "會員頭像：" + profile.picture + "<br/>";
		html += "會員 email：" + profile.email + "<br/>";
		$target.html(html);
	}

	// 點擊登入
	$("#GOOGLE_login").click(function() {
		// 進行登入程序
		startSignIn();
	});

	// 點擊登出
	$("#GOOGLE_logout").click(function() {
		google.accounts.id.disableAutoSelect();

		// 登出後的動作
		$("#GOOGLE_STATUS_3").html("已登出");
	});
</script> -->


	
</body>
</html>


